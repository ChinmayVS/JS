<!DOCTYPE html>
<html>
<head>
  <title>Rock-Paper-Scissor</title>
</head>


<body>
  <p>Rock Paper Scissors</p>

  
  <button onclick="userChoice('rock');">Rock</button>


  <button onclick="userChoice('paper');">Paper</button>


  <button onclick="userChoice('scissors')">Scissors</button>

  <button onclick="
  score.win=0
  score.loss=0
  score.tie=0
  localStorage.removeItem('score');
  ">Reset</button>



  <script>
    let score = JSON.parse(localStorage.getItem('score'))|| {win:0,loss:0,tie:0};
    
    
    function pickNumber(){ 

      let computerPick='';

      const random = Math.random();

      console.log(random)

      if(0<random&&random<1/3){
        computerPick='rock';
      }
      else if(1/3<random&&random<2/3){
        computerPick='paper';
      }
      else{
        computerPick='scissors';
      } 
      return computerPick;
    }

    function userChoice(choice){
      let result ="";

      if(choice==="rock"){
        
        const computerPick= pickNumber();

        if(computerPick==='rock'){
          result= "Tie";
        }

        else if(computerPick==='paper'){
          result= "Computer wins"
        }

        else{
          result= "You win"        
        }
        if (result=="You win"){
          score.win +=1
        }
        else if(result=="Computer wins"){
          score.loss +=1
        }
        else if(result=="Tie"){
          score.tie +=1
        }
        localStorage.setItem('score', JSON.stringify(score));



        alert( `You picked ${choice}, the computer picked ${computerPick} so ${result}
        The score is 
        wins:${score.win}
        lose:${score.loss}
        tie:${score.tie}`)

      }
      else if(choice==="paper"){

        const computerPick= pickNumber();

        if(computerPick==='rock'){

          result= "You win"
                  
        }
        else if(computerPick==='paper'){

          result= "Tie";
        }
        else{

          result= "Computer wins"
        }
        if (result=="You win"){
          score.win +=1
        }
        else if(result=="Computer wins"){
          score.loss +=1
        }
        else if(result=="Tie"){
          score.tie +=1
        }
        localStorage.setItem('score', JSON.stringify(score));

        alert( `You picked ${choice}, the computer picked ${computerPick} so ${result}
        The score is 
        wins:${score.win}
        lose:${score.loss}
        tie:${score.tie}`)
      }
      else{
                
        const computerPick= pickNumber();

        if(computerPick==='rock'){

          result= "Computer wins"
        }
        else if(computerPick==='paper'){

          result= "You win"        
        }
        else{

          result= "Tie";
        }
        if (result=="You win"){
          score.win +=1
        }
        else if(result=="Computer wins"){
          score.loss +=1
        }
        else  if(result=="Tie"){
          score.tie +=1
        }
        localStorage.setItem('score', JSON.stringify(score));

        alert( `You picked ${choice}, the computer picked ${computerPick} so ${result}
        The score is 
        wins:${score.win}
        lose:${score.loss}
        tie:${score.tie}`)
      }

    }
  
  </script>
</body>

</html>